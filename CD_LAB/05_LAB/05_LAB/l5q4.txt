==============================
LAB 5 â€“ FLEX PROGRAMS
==============================


---------------------------------------------
Question
---------------------------------------------
Given an input C file, replace all scanf with READ and printf with WRITE statements. 
Also find the number of scanf and printf in the file.


---------------------------------------------
Code (l5q4.l)
---------------------------------------------

%{
#include <stdio.h>

int scanCount = 0;
int printCount = 0;
%}

%%
"scanf"        { scanCount++; fprintf(yyout, "READ"); }
"printf"       { printCount++; fprintf(yyout, "WRITE"); }
.|\n           { fprintf(yyout, "%s", yytext); }
%%

int main()
{
    yyin = fopen("readfile.c", "r");
    yyout = fopen("writefile.c", "w");

    yylex();

    fclose(yyin);
    fclose(yyout);

    printf("Number of scanf: %d\n", scanCount);
    printf("Number of printf: %d\n", printCount);

    return 0;
}

int yywrap()
{
    return 1;
}


---------------------------------------------
How to Run (Linux)
---------------------------------------------

flex l5q4.l
gcc lex.yy.c -o l5q4 -lfl
./l5q4


---------------------------------------------
Sample Input File (readfile.c)
---------------------------------------------

#include<stdio.h>
int main(){
 printf("abc");
 printf("def");
 int x;
 scanf("%d",&x);
}


---------------------------------------------
Generated Output File (writefile.c)
---------------------------------------------

#include<stdio.h>
int main(){
 WRITE("abc");
 WRITE("def");
 int x;
 READ("%d",&x);
}


---------------------------------------------
Terminal Output
---------------------------------------------

Number of scanf: 1
Number of printf: 2

